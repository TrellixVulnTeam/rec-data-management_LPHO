{% load static %}

{% block chart %}
    <canvas id="template-chart{{x}}" width="500" height="300"></canvas>

    <script src="{% static 'js/chartjs/dist/Chart.js' %}" type="text/javascript"></script>
    <script>
        var json = {{json|safe}};
        var chartset = json['chartset'];
        var charts{{x}} = chartset[{{x}}];
        var ctx = document.getElementById("template-chart{{x}}");
        var datasetValue = [];
        var value = charts{{x}}.charts.length;
        for (var j = 0; j < charts{{x}}.charts.length; j++) {    
            datasetValue[j] = {
                fillColor: 'rgba(220,220,220,0.5)',
                strokeColor :'rgba(220,220,220,1)',
                title :'2013',
                data : [Math.round(Math.random() * 100),Math.round(Math.random() * 100)-10]
            }
        }
        var title = charts{{x}}.title;
        var chart = new Chart(ctx, {
            type: charts{{x}}.type,
                data: { 
                    labels: ['1', '2', '3'],
                    datasets: [
                    {
                        label: title,
                        data: [1, 2, 3],
                        backgroundColor: [
                            charts{{x}}.charts[0].color
                        ],
                        borderColor: [
                            'rgba(0,0,0,1)'
                        ],
                        borderWidth: 1
                    },
                    ]
                },
                options: {
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                    }
                }
            });
    </script>
{% endblock %}